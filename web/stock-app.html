<link rel="import" href="packages/polymer/polymer.html">
<link rel="import" href="packages/core_elements/core_icons.html">
<link rel="import" href="packages/core_elements/core_icon.html">
<link rel="import" href="packages/core_elements/core_icon_button.html">
<link rel="import" href="packages/core_elements/core_toolbar.html">
<link rel="import" href="packages/core_elements/core_header_panel.html">
<link rel="import" href="portfolio-form.html">
<link rel="import" href="portfolio-element.html">

<polymer-element name="stock-app">
  <template>
    <style>
      core-header-panel {
        height: 100%; 
      }
      .menu-bar {
        background-color: lightblue;
      }
      .component {
        margin: 5px;
      }
    </style>
     <core-header-panel flex>
       <core-toolbar class="menu-bar">
          <core-icon icon="home" on-click="{{showPortfolioList}}"></core-icon>
          <core-icon-button class="smaller" icon="add" on-click="{{addNewPortfolio}}">
           New Portfolio
          </core-icon-button>
       </core-toolbar>
       <template if="{{addPortfolio}}">
         <portfolio-form class="component" on-validportfolio="{{updatePortfolioList}}"></portfolio-form>
       </template>
       <template if="{{!addPortfolio}}">
          <template repeat="{{portfolio in portfolios">
            <portfolio-element portfolio="{{portfolio}}"></portfolio-element>
          </template>
       </template>
     </core-header-panel>
  </template>
  <script type="application/dart" src="lib/stock_app.dart"></script>
</polymer-element>